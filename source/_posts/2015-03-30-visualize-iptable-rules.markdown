---
layout: post
title: "security group의 rule이 어떤 순서로 적용되는지 보기"
date: 2015-03-30 16:56:41 +0900
comments: true
categories:
tags:
 - openstack
 - iptables
---
iptables의 chain이 적용되는 순서를 쉽게 보고싶다면 http://atoato88.hatenablog.com/entry/2014/01/25/133852 를 참조~

                                      +--------------------------------+
                                      |                                v
    +-------------------------+     +--------------------------+     +------------------------------+     +------------------------------+     +------------------------------+
    |         FORWARD         | --> | neutron-openvswi-FORWARD | --> |  neutron-openvswi-sg-chain   | --> | neutron-openvswi-i286a46e9-d | --> | neutron-openvswi-sg-fallback |
    +-------------------------+     +--------------------------+     +------------------------------+     +------------------------------+     +------------------------------+
      |                                                                                                                                          ^
      +-------------------------------+                                                                                                          |
                                      v                                                                                                          |
    +-------------------------+     +--------------------------+     +------------------------------+                                            |
    |         OUTPUT          | --> |    neutron-filter-top    | --> |    neutron-openvswi-local    |                                            |
    +-------------------------+     +--------------------------+     +------------------------------+                                            |
      |                                                                                                                                          |
      |                                                                                                                                          |
      v                                                                                                                                          |
    +-------------------------+                                                                                                                  |
    | neutron-openvswi-OUTPUT |                                                                                                                  |
    +-------------------------+                                                                                                                  |
    +-------------------------+     +--------------------------+     +------------------------------+                                            |
    |          INPUT          | --> |  neutron-openvswi-INPUT  | --> | neutron-openvswi-o286a46e9-d | -------------------------------------------+
    +-------------------------+     +--------------------------+     +------------------------------+
                                                                       |
                                                                       |
                                                                       v
    +-------------------------+                                      +------------------------------+
    |    nova-api-FORWARD     |                                      | neutron-openvswi-s286a46e9-d |
    +-------------------------+                                      +------------------------------+
    +-------------------------+
    |     nova-api-INPUT      |
    +-------------------------+
    +-------------------------+
    |     nova-api-OUTPUT     |
    +-------------------------+
    +-------------------------+
    |     nova-api-local      |
    +-------------------------+
    +-------------------------+
    |     nova-filter-top     |
    +-------------------------+

thanks rick